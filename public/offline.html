<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8" />
    <title>PixelsPlace - Offline</title>
    <style>
        body {
            background: #333;
            color: #fff;
            font-family: sans-serif;
            display: flex;
            flex-direction: column;
            align-items: center;
            width: 100dvw;
            height: 100dvh;
            margin: 0;
            box-sizing: border-box;
            justify-content: center;
        }

        #palette {
            margin-bottom: 10px;
        }

        .color {
            display: inline-block;
            width: 24px;
            height: 24px;
            margin: 0 5px;
            border: 2px solid #fff;
            cursor: pointer;
        }

        #canvas {
            display: grid;
            grid-template-columns: repeat(16, 20px);
            grid-template-rows: repeat(16, 20px);
            gap: 1px;
        }

        .pixel {
            width: 20px;
            height: 20px;
            background: #000;
            cursor: pointer;
        }
    </style>
</head>

<body>
    <h1>Pixel Art</h1>
    <p id="status"></p>
    <p id="hurryMessage"></p>
    <div id="palette">
        <div class="color" style="background: red;" data-color="red"></div>
        <div class="color" style="background: blue;" data-color="blue"></div>
        <div class="color" style="background: yellow;" data-color="yellow"></div>
        <div class="color" style="background: green;" data-color="green"></div>
        <div class="color" style="background: white;" data-color="white"></div>
        <div class="color" style="background: black;" data-color="black"></div>
    </div>
    <div id="canvas"></div>

    <script>

        // Parte funcional

        // Monitora status da conexão
        function updateStatus() {
            const status = document.getElementById('status');
            if (navigator.onLine) {
                status.textContent = '✅ Online';
                status.className = 'status online';
            } else {
                status.textContent = '❌ Offline';
                status.className = 'status';
            }
        }

        // Verifica status inicial
        updateStatus();

        // Monitora mudanças na conexão
        window.addEventListener('online', updateStatus);
        window.addEventListener('offline', updateStatus);

        // Auto-reload quando voltar online
        window.addEventListener('online', function () {
            setTimeout(() => {
                if (confirm('Conexão restaurada! Deseja recarregar a página?')) {
                    window.location.reload();
                }
            }, 1000);
        });

        // Parte minigame

        // === DESENHOS FÁCEIS (7 desenhos) ===
        // Coração simples
        const heart = [
            "0000000000000000",
            "0000000000000000",
            "0001100011000000",
            "0011110111100000",
            "0111111111110000",
            "0111111111110000",
            "0111111111110000",
            "0011111111100000",
            "0001111111000000",
            "0000111110000000",
            "0000011100000000",
            "0000001000000000",
            "0000000000000000",
            "0000000000000000",
            "0000000000000000",
            "0000000000000000"
        ];
        // Sol
        const sun = [
            "0000000100000000",
            "0001000100010000",
            "0000101010100000",
            "0010001110001000",
            "0001011111010000",
            "0000155555100000",
            "0101555555515010",
            "0001555555510000",
            "0001555555510000",
            "0101555555515010",
            "0000155555100000",
            "0001011111010000",
            "0010001110001000",
            "0000101010100000",
            "0001000100010000",
            "0000000100000000"
        ];
        // Estrela
        const star = [
            "0000000000000000",
            "0000000000000000",
            "0000001000000000",
            "0000001000000000",
            "0000011100000000",
            "0001111111000000",
            "0000111110000000",
            "0001111111000000",
            "0011111111100000",
            "0001111111000000",
            "0001100011000000",
            "0011000001100000",
            "0000000000000000",
            "0000000000000000",
            "0000000000000000",
            "0000000000000000"
        ];
        // Casa simples
        const house = [
            "0000000000000000",
            "0000000000000000",
            "0000001000000000",
            "0000011100000000",
            "0000111110000000",
            "0001111111000000",
            "0011111111100000",
            "0111111111110000",
            "0111111111110000",
            "0111511115110000",
            "0111511115110000",
            "0111511115110000",
            "0111111111110000",
            "0111111111110000",
            "0000000000000000",
            "0000000000000000"
        ];
        // Árvore
        const tree = [
            "0000000000000000",
            "0000000000000000",
            "0000003000000000",
            "0000033300000000",
            "0000333330000000",
            "0003333333000000",
            "0033333333300000",
            "0333333333330000",
            "0033333333300000",
            "0003333333000000",
            "0000333330000000",
            "0000055500000000",
            "0000055500000000",
            "0000055500000000",
            "0000000000000000",
            "0000000000000000"
        ];
        // Flor
        const flower = [
            "0000000000000000",
            "0000000000000000",
            "0000022200000000",
            "0002222222000000",
            "0022255522200000",
            "0222555555220000",
            "0222555555220000",
            "0022255522200000",
            "0002222222000000",
            "0000022200000000",
            "0000033300000000",
            "0000033300000000",
            "0000033300000000",
            "0000000000000000",
            "0000000000000000",
            "0000000000000000"
        ];
        // Maçã
        const apple = [
            "0000000000000000",
            "0000000000000000",
            "0000003000000000",
            "0000033300000000",
            "0000222200000000",
            "0002222222000000",
            "0022222222200000",
            "0222222222220000",
            "0222222222220000",
            "0222222222220000",
            "0222222222220000",
            "0022222222200000",
            "0002222222000000",
            "0000222200000000",
            "0000000000000000",
            "0000000000000000"
        ];
        // === DESENHOS MÉDIOS (5 desenhos) ===
        // Gato
        const cat = [
            "0000000000000000",
            "0001000000100000",
            "0001100001100000",
            "0001111111100000",
            "0011111111110000",
            "0111155155511000",
            "0111111111111000",
            "0111111111111000",
            "0111151115111000",
            "0111111111111000",
            "0111111111111000",
            "0011111111110000",
            "0001111111100000",
            "0000111111000000",
            "0000000000000000",
            "0000000000000000"
        ];
        // Peixe
        const fish = [
            "0000000000000000",
            "0000000000000000",
            "0011100000000000",
            "0111111000000000",
            "0444444400000000",
            "0444114411000000",
            "0444444411110000",
            "0444444411111000",
            "0444444411111000",
            "0444444411110000",
            "0444114411000000",
            "0444444400000000",
            "0111111000000000",
            "0011100000000000",
            "0000000000000000",
            "0000000000000000"
        ];
        // Borboleta
        const butterfly = [
            "0000000000000000",
            "0000000000000000",
            "0022000000220000",
            "0222200002220000",
            "0222220022220000",
            "0022222222220000",
            "0002222222200000",
            "0001111111100000",
            "0001111111100000",
            "0002222222200000",
            "0022222222220000",
            "0222220022220000",
            "0222200002220000",
            "0022000000220000",
            "0000000000000000",
            "0000000000000000"
        ];
        // Foguete
        const rocket = [
            "0000000000000000",
            "0000001000000000",
            "0000011100000000",
            "0000111110000000",
            "0001111111000000",
            "0001111111000000",
            "0001151511000000",
            "0001111111000000",
            "0001111111000000",
            "0001111111000000",
            "0001111111000000",
            "0015111115000000",
            "0055111115500000",
            "0055000005500000",
            "0050000000500000",
            "0000000000000000"
        ];
        // Carro
        const car = [
            "0000000000000000",
            "0000000000000000",
            "0000000000000000",
            "0000000000000000",
            "0000000000000000",
            "0011111111100000",
            "0111111111110000",
            "0111441144110000",
            "0111111111110000",
            "0111111111110000",
            "0111111111110000",
            "0111111111110000",
            "0511111111115000",
            "0055555555550000",
            "0000000000000000",
            "0000000000000000"
        ];
        // === DESENHOS DIFÍCEIS (3 desenhos) ===
        // Caveira
        const skull = [
            "0000000000000000",
            "0000111111000000",
            "0001111111100000",
            "0011111111110000",
            "0111111111111000",
            "0111511115111000",
            "0111111111111000",
            "0111151115111000",
            "0111111111111000",
            "0111111111111000",
            "0111111111111000",
            "0111151115111000",
            "0111111111111000",
            "0011111111110000",
            "0001111111100000",
            "0000111111000000"
        ];
        // Robô
        const robot = [
            "0000000000000000",
            "0000555555000000",
            "0005555555500000",
            "0055555555550000",
            "0555151515555000",
            "0555555555555000",
            "0555111111555000",
            "0555555555555000",
            "0555555555555000",
            "0555555555555000",
            "0555555555555000",
            "0555222222555000",
            "0555555555555000",
            "0055555555550000",
            "0005555555500000",
            "0000555555000000"
        ];
        // Dragão
        const dragon = [
            "0000000000000000",
            "0000000011000000",
            "0000001111100000",
            "0000011111110000",
            "0000111111111000",
            "0001111111111100",
            "0011111151111110",
            "0111111111111111",
            "0111111111111111",
            "0111111111111110",
            "0111111111111100",
            "0111111111111000",
            "0111111111110000",
            "0111111111100000",
            "0111111111000000",
            "0000000000000000"
        ];
        // Array com todos os desenhos organizados por dificuldade
        const drawings = {
            facil: [
                { name: "Coração", drawing: heart },
                { name: "Sol", drawing: sun },
                { name: "Estrela", drawing: star },
                { name: "Casa", drawing: house },
                { name: "Árvore", drawing: tree },
                { name: "Flor", drawing: flower },
                { name: "Maçã", drawing: apple }
            ],
            medio: [
                { name: "Gato", drawing: cat },
                { name: "Peixe", drawing: fish },
                { name: "Borboleta", drawing: butterfly },
                { name: "Foguete", drawing: rocket },
                { name: "Carro", drawing: car }
            ],
            dificil: [
                { name: "Caveira", drawing: skull },
                { name: "Robô", drawing: robot },
                { name: "Dragão", drawing: dragon }
            ]
        };

        // Desenho predefinido (16x16 matriz)
        let dificuldade = Math.round(Math.random()*2);
        let desenho = Math.round(Math.random()* (drawings[['facil','medio','dificil'][dificuldade]].length-1) )
        document.getElementById('hurryMessage').innerHTML = 
        `Rápido! Desenhe ${drawings[['facil','medio','dificil'][dificuldade]][desenho].name} (nível ${['facil','medio','dificil'][dificuldade]})`;

        const drawing = drawings[['facil','medio','dificil'][dificuldade]][desenho].drawing;

        const canvas = document.getElementById("canvas");
        let currentColor = "red";
        const defaultColors = ["transparent", "rgba(0,0,0,0.5)", "rgba(255,0,0,0.5)", "rgba(0,255,0,0.5)", "rgba(0,0,255,0.5)", "rgba(255,255,0,0.5)"];

        // Cria pixels baseado no desenho
        drawing.forEach(row => {
            row.split("").forEach(cell => {
                const pixel = document.createElement("div");
                pixel.className = "pixel";
                pixel.style.background = defaultColors[parseInt(cell)]
                pixel.dataset.base = pixel.style.background;
                canvas.appendChild(pixel);
            });
        });

        // Seleção de cor
        document.querySelectorAll(".color").forEach(c => {
            c.addEventListener("click", () => {
                currentColor = c.dataset.color;
            });
        });

        // Pintura
        canvas.addEventListener("click", e => {
            if (e.target.classList.contains("pixel")) {
                e.target.style.background = currentColor;
            }
        });
    </script>
</body>

</html>