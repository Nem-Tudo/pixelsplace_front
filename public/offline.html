<!DOCTYPE html>
<html lang="pt-br">
<head>
  <meta charset="UTF-8" />
  <title>Pixel Art - Pinte o Desenho</title>
  <style>
    body {
      background: #333;
      color: #fff;
      font-family: sans-serif;
      display: flex;
      flex-direction: column;
      align-items: center;
      margin: 0;
      padding: 20px;
    }
    #palette {
      margin-bottom: 10px;
    }
    .color {
      display: inline-block;
      width: 24px;
      height: 24px;
      margin: 0 5px;
      border: 2px solid #fff;
      cursor: pointer;
    }
    #canvas {
      display: grid;
      grid-template-columns: repeat(16, 20px);
      grid-template-rows: repeat(16, 20px);
      gap: 1px;
    }
    .pixel {
      width: 20px;
      height: 20px;
      background: #000;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <h1>Pixel Art</h1>
  <p id="status"></p>
  <div id="palette">
    <div class="color" style="background: red;" data-color="red"></div>
    <div class="color" style="background: blue;" data-color="blue"></div>
    <div class="color" style="background: yellow;" data-color="yellow"></div>
    <div class="color" style="background: green;" data-color="green"></div>
    <div class="color" style="background: white;" data-color="white"></div>
  </div>
  <div id="canvas"></div>

  <script>
    // Desenho predefinido (16x16 matriz)
    const drawing = [
      "1111111111111111",
      "1111111111111111",
      "1111001110011111",
      "1110110101101111",
      "1101111011110111",
      "1101111111110111",
      "1101111111110111",
      "1110111111101111",
      "1111011111011111",
      "1111101110111111",
      "1111110101111111",
      "1111111011111111",
      "1111111111111111",
      "1111111111111111",
      "1111111111111111",
      "1111111111111111",
    ];

    const canvas = document.getElementById("canvas");
    let currentColor = "red";

    // Cria pixels baseado no desenho
    drawing.forEach(row => {
      row.split("").forEach(cell => {
        const pixel = document.createElement("div");
        pixel.className = "pixel";
        pixel.style.background = cell === "1" ? "#555" : "#000"; // #555 = cor base do desenho
        pixel.dataset.base = pixel.style.background;
        canvas.appendChild(pixel);
      });
    });

    // Seleção de cor
    document.querySelectorAll(".color").forEach(c => {
      c.addEventListener("click", () => {
        currentColor = c.dataset.color;
      });
    });

    // Pintura
    canvas.addEventListener("click", e => {
      if (e.target.classList.contains("pixel")) {
        e.target.style.background = currentColor;
      }
    });

    // Monitora status da conexão
    function updateStatus() {
        const status = document.getElementById('status');
        if (navigator.onLine) {
            status.textContent = '✅ Online';
            status.className = 'status online';
        } else {
            status.textContent = '❌ Offline';
            status.className = 'status';
        }
    }
    
    // Verifica status inicial
    updateStatus();
    
    // Monitora mudanças na conexão
    window.addEventListener('online', updateStatus);
    window.addEventListener('offline', updateStatus);
    
    // Auto-reload quando voltar online
    window.addEventListener('online', function() {
        setTimeout(() => {
            if (confirm('Conexão restaurada! Deseja recarregar a página?')) {
                window.location.reload();
            }
        }, 1000);
    });
  </script>
</body>
</html>
